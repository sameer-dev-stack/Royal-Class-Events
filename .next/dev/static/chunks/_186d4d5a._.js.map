{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/hooks/use-seat-engine.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { create } from \"zustand\";\r\n\r\n/**\r\n * Royal Seat Engine - Zustand Store\r\n * Phase 13: Architectural Asset Library\r\n *\r\n * Manages canvas state, tools, elements, selection, and seat configuration.\r\n */\r\n\r\n// Tool types for the seat engine\r\nexport const TOOL_TYPES = {\r\n    SELECT: \"SELECT\",\r\n    RECTANGLE: \"RECTANGLE\",\r\n    CIRCLE: \"CIRCLE\",\r\n    POLYGON: \"POLYGON\",\r\n    CURVE: \"CURVE\",\r\n    IMAGE: \"IMAGE\",\r\n    ASSET: \"ASSET\",\r\n};\r\n\r\n// Seat naming conventions\r\nexport const SEAT_NAMING = {\r\n    ALPHABETICAL: \"ALPHABETICAL\", // Row A, B, C...\r\n    NUMERICAL: \"NUMERICAL\",       // Row 1, 2, 3...\r\n};\r\n\r\n// Generate unique IDs for elements\r\nconst generateId = () => `element_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n// Default seat configuration for Rectangle zones\r\nconst DEFAULT_SEAT_CONFIG = {\r\n    rowCount: 5,\r\n    colCount: 10,\r\n    seatNaming: SEAT_NAMING.ALPHABETICAL,\r\n    startLabel: \"A\",\r\n    priceTierKey: null,\r\n    showLabels: true,\r\n    curvature: 0,\r\n    categoryId: null, // Global category ID\r\n    assetType: null, // 'STAGE' | 'EXIT' | 'CONSOLE' | 'TABLE'\r\n    capacity: 0,      // For Tables (0-20)\r\n};\r\n\r\nconst useSeatEngine = create((set, get) => ({\r\n    // Stage configuration for Konva\r\n    stageConfig: {\r\n        width: 0,\r\n        height: 0,\r\n        x: 0,\r\n        y: 0,\r\n        scale: 1,\r\n    },\r\n\r\n    // Current active tool\r\n    tool: TOOL_TYPES.SELECT,\r\n\r\n    // Elements array (seats, shapes, etc.)\r\n    elements: [],\r\n\r\n    // Selected element IDs\r\n    selectedIds: [],\r\n\r\n    // Canvas settings\r\n    canvasSettings: {\r\n        gridSize: 20,\r\n        snapToGrid: false,\r\n        showGrid: true,\r\n    },\r\n\r\n    // Global Categories\r\n    categories: [\r\n        { id: \"cat_default\", name: \"General Admission\", color: \"#D4AF37\", price: 0 }\r\n    ],\r\n\r\n    // Actions - Stage\r\n    setStageSize: (width, height) =>\r\n        set((state) => ({\r\n            stageConfig: {\r\n                ...state.stageConfig,\r\n                width,\r\n                height,\r\n            },\r\n        })),\r\n\r\n    setStagePosition: (x, y, scale) =>\r\n        set((state) => ({\r\n            stageConfig: {\r\n                ...state.stageConfig,\r\n                x,\r\n                y,\r\n                scale,\r\n            },\r\n        })),\r\n\r\n    // Actions - Tools\r\n    setTool: (tool) => set({ tool }),\r\n\r\n    // Actions - Selection\r\n    setSelectedIds: (ids) => set({ selectedIds: Array.isArray(ids) ? ids : [ids] }),\r\n    toggleSelection: (id) =>\r\n        set((state) => ({\r\n            selectedIds: state.selectedIds.includes(id)\r\n                ? state.selectedIds.filter((currId) => currId !== id)\r\n                : [...state.selectedIds, id],\r\n        })),\r\n    clearSelection: () => set({ selectedIds: [] }),\r\n    selectAll: () => set((state) => ({ selectedIds: state.elements.map(el => el.id) })),\r\n\r\n    // Clipboard for copy-paste\r\n    clipboard: [],\r\n\r\n    // Actions - Elements\r\n    addElement: (element) =>\r\n        set((state) => {\r\n            const newElement = {\r\n                ...element,\r\n                id: element.id || generateId(),\r\n            };\r\n\r\n            // Initialize seatConfig for RECTANGLE and ASSET/IMAGE/TABLE types\r\n            if (element.type === TOOL_TYPES.RECTANGLE || element.type === TOOL_TYPES.ASSET || element.type === TOOL_TYPES.IMAGE) {\r\n                newElement.seatConfig = {\r\n                    ...DEFAULT_SEAT_CONFIG,\r\n                    ...element.seatConfig,\r\n                };\r\n            }\r\n\r\n            return {\r\n                elements: [...state.elements, newElement],\r\n            };\r\n        }),\r\n\r\n    copySelection: () => {\r\n        const { elements, selectedIds } = get();\r\n        const selectedElements = elements.filter(el => selectedIds.includes(el.id));\r\n        if (selectedElements.length > 0) {\r\n            set({ clipboard: JSON.parse(JSON.stringify(selectedElements)) });\r\n        }\r\n    },\r\n\r\n    pasteSelection: () => {\r\n        const { clipboard } = get();\r\n        if (clipboard.length === 0) return;\r\n\r\n        const pastedElements = clipboard.map(el => ({\r\n            ...el,\r\n            id: generateId(),\r\n            x: el.x + 20,\r\n            y: el.y + 20\r\n        }));\r\n\r\n        set((state) => ({\r\n            elements: [...state.elements, ...pastedElements],\r\n            selectedIds: pastedElements.map(el => el.id)\r\n        }));\r\n\r\n        // After pasting, update clipboard with the pasted positions so subsequent pastes offset again\r\n        set({ clipboard: pastedElements });\r\n    },\r\n\r\n    nudgeElements: (dx, dy) => {\r\n        const { selectedIds } = get();\r\n        if (selectedIds.length === 0) return;\r\n        set((state) => ({\r\n            elements: state.elements.map(el =>\r\n                selectedIds.includes(el.id)\r\n                    ? { ...el, x: el.x + dx, y: el.y + dy }\r\n                    : el\r\n            )\r\n        }));\r\n    },\r\n\r\n    updateElement: (id, updates) =>\r\n        set((state) => {\r\n            const targets = id ? [id] : state.selectedIds;\r\n            return {\r\n                elements: state.elements.map((el) =>\r\n                    targets.includes(el.id) ? { ...el, ...updates } : el\r\n                ),\r\n            };\r\n        }),\r\n\r\n    updateSeatConfig: (id, configUpdates) =>\r\n        set((state) => {\r\n            const targets = id ? [id] : state.selectedIds;\r\n            return {\r\n                elements: state.elements.map((el) =>\r\n                    targets.includes(el.id)\r\n                        ? {\r\n                            ...el,\r\n                            seatConfig: {\r\n                                ...el.seatConfig,\r\n                                ...configUpdates,\r\n                            },\r\n                        }\r\n                        : el\r\n                ),\r\n            };\r\n        }),\r\n\r\n    deleteElement: (id) =>\r\n        set((state) => ({\r\n            elements: state.elements.filter((el) => el.id !== id),\r\n            selectedIds: state.selectedIds.filter((currId) => currId !== id),\r\n        })),\r\n\r\n    deleteSelectedElement: () => {\r\n        const { selectedIds, elements } = get();\r\n        if (selectedIds.length > 0) {\r\n            set({\r\n                elements: elements.filter(el => !selectedIds.includes(el.id)),\r\n                selectedIds: []\r\n            });\r\n        }\r\n    },\r\n\r\n    clearElements: () => set({ elements: [], selectedIds: [] }),\r\n\r\n    // Actions - Categories\r\n    addCategory: ({ name, price, color }) =>\r\n        set((state) => ({\r\n            categories: [\r\n                ...state.categories,\r\n                { id: `cat_${Date.now()}`, name, price, color }\r\n            ]\r\n        })),\r\n\r\n    updateCategory: (id, updates) =>\r\n        set((state) => ({\r\n            categories: state.categories.map((cat) =>\r\n                cat.id === id ? { ...cat, ...updates } : cat\r\n            )\r\n        })),\r\n\r\n    removeCategory: (id) =>\r\n        set((state) => ({\r\n            categories: state.categories.filter((cat) => cat.id !== id)\r\n        })),\r\n\r\n\r\n    // Bulk set elements (for loading from backend) with Sanitization\r\n    setElements: (elements) => {\r\n        if (!Array.isArray(elements)) return;\r\n\r\n        const validElements = elements.filter(el => {\r\n            return (\r\n                el &&\r\n                el.type &&\r\n                typeof el.x === 'number' && typeof el.y === 'number' &&\r\n                typeof el.width === 'number' && typeof el.height === 'number' &&\r\n                el.width > 0 && el.height > 0 &&\r\n                isFinite(el.x) && isFinite(el.y) && isFinite(el.width) && isFinite(el.height)\r\n            );\r\n        });\r\n\r\n        if (elements.length !== validElements.length) {\r\n            console.warn(`[SeatEngine] Filtered out ${elements.length - validElements.length} invalid elements.`);\r\n        }\r\n\r\n        set({ elements: validElements });\r\n    },\r\n\r\n    // Actions - Canvas Settings\r\n    updateCanvasSettings: (updates) =>\r\n        set((state) => ({\r\n            canvasSettings: { ...state.canvasSettings, ...updates },\r\n        })),\r\n\r\n    // Actions - Categories\r\n    addCategory: (category) =>\r\n        set((state) => ({\r\n            categories: [...state.categories, { ...category, id: `cat_${Date.now()}` }],\r\n        })),\r\n\r\n    updateCategory: (id, updates) =>\r\n        set((state) => ({\r\n            categories: state.categories.map((cat) =>\r\n                cat.id === id ? { ...cat, ...updates } : cat\r\n            ),\r\n        })),\r\n\r\n    deleteCategory: (id) =>\r\n        set((state) => ({\r\n            categories: state.categories.filter((cat) => cat.id !== id),\r\n            // Reset elements using this category\r\n            elements: state.elements.map((el) => {\r\n                const newEl = { ...el };\r\n                if (el.seatConfig && el.seatConfig.categoryId === id) {\r\n                    newEl.seatConfig = { ...el.seatConfig, categoryId: null };\r\n                }\r\n                return newEl;\r\n            }),\r\n        })),\r\n\r\n    assignCategory: (id, categoryId) =>\r\n        set((state) => ({\r\n            elements: state.elements.map((el) =>\r\n                el.id === id\r\n                    ? {\r\n                        ...el,\r\n                        seatConfig: {\r\n                            ...el.seatConfig,\r\n                            categoryId,\r\n                        },\r\n                    }\r\n                    : el\r\n            ),\r\n        })),\r\n\r\n    // Get selected element helpers\r\n    getSelectedElements: () => {\r\n        const { elements, selectedIds } = get();\r\n        return elements.filter((el) => selectedIds.includes(el.id));\r\n    },\r\n\r\n    getSelectedIds: () => get().selectedIds,\r\n\r\n    // Reset to initial state\r\n    resetStage: () =>\r\n        set({\r\n            stageConfig: {\r\n                width: 0,\r\n                height: 0,\r\n                x: 0,\r\n                y: 0,\r\n                scale: 1,\r\n            },\r\n            tool: TOOL_TYPES.SELECT,\r\n            elements: [],\r\n            selectedIds: [],\r\n        }),\r\n}));\r\n\r\nexport default useSeatEngine;\r\n"],"names":[],"mappings":";;;;;;;;AAEA;AAFA;;AAYO,MAAM,aAAa;IACtB,QAAQ;IACR,WAAW;IACX,QAAQ;IACR,SAAS;IACT,OAAO;IACP,OAAO;IACP,OAAO;AACX;AAGO,MAAM,cAAc;IACvB,cAAc;IACd,WAAW;AACf;AAEA,mCAAmC;AACnC,MAAM,aAAa,IAAM,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AAE3F,iDAAiD;AACjD,MAAM,sBAAsB;IACxB,UAAU;IACV,UAAU;IACV,YAAY,YAAY,YAAY;IACpC,YAAY;IACZ,cAAc;IACd,YAAY;IACZ,WAAW;IACX,YAAY;IACZ,WAAW;IACX,UAAU;AACd;AAEA,MAAM,gBAAgB,IAAA,qJAAM,EAAC,CAAC,KAAK,MAAQ,CAAC;QACxC,gCAAgC;QAChC,aAAa;YACT,OAAO;YACP,QAAQ;YACR,GAAG;YACH,GAAG;YACH,OAAO;QACX;QAEA,sBAAsB;QACtB,MAAM,WAAW,MAAM;QAEvB,uCAAuC;QACvC,UAAU,EAAE;QAEZ,uBAAuB;QACvB,aAAa,EAAE;QAEf,kBAAkB;QAClB,gBAAgB;YACZ,UAAU;YACV,YAAY;YACZ,UAAU;QACd;QAEA,oBAAoB;QACpB,YAAY;YACR;gBAAE,IAAI;gBAAe,MAAM;gBAAqB,OAAO;gBAAW,OAAO;YAAE;SAC9E;QAED,kBAAkB;QAClB,cAAc,CAAC,OAAO,SAClB,IAAI,CAAC,QAAU,CAAC;oBACZ,aAAa;wBACT,GAAG,MAAM,WAAW;wBACpB;wBACA;oBACJ;gBACJ,CAAC;QAEL,kBAAkB,CAAC,GAAG,GAAG,QACrB,IAAI,CAAC,QAAU,CAAC;oBACZ,aAAa;wBACT,GAAG,MAAM,WAAW;wBACpB;wBACA;wBACA;oBACJ;gBACJ,CAAC;QAEL,kBAAkB;QAClB,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAE9B,sBAAsB;QACtB,gBAAgB,CAAC,MAAQ,IAAI;gBAAE,aAAa,MAAM,OAAO,CAAC,OAAO,MAAM;oBAAC;iBAAI;YAAC;QAC7E,iBAAiB,CAAC,KACd,IAAI,CAAC,QAAU,CAAC;oBACZ,aAAa,MAAM,WAAW,CAAC,QAAQ,CAAC,MAClC,MAAM,WAAW,CAAC,MAAM,CAAC,CAAC,SAAW,WAAW,MAChD;2BAAI,MAAM,WAAW;wBAAE;qBAAG;gBACpC,CAAC;QACL,gBAAgB,IAAM,IAAI;gBAAE,aAAa,EAAE;YAAC;QAC5C,WAAW,IAAM,IAAI,CAAC,QAAU,CAAC;oBAAE,aAAa,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA,KAAM,GAAG,EAAE;gBAAE,CAAC;QAEjF,2BAA2B;QAC3B,WAAW,EAAE;QAEb,qBAAqB;QACrB,YAAY,CAAC,UACT,IAAI,CAAC;gBACD,MAAM,aAAa;oBACf,GAAG,OAAO;oBACV,IAAI,QAAQ,EAAE,IAAI;gBACtB;gBAEA,kEAAkE;gBAClE,IAAI,QAAQ,IAAI,KAAK,WAAW,SAAS,IAAI,QAAQ,IAAI,KAAK,WAAW,KAAK,IAAI,QAAQ,IAAI,KAAK,WAAW,KAAK,EAAE;oBACjH,WAAW,UAAU,GAAG;wBACpB,GAAG,mBAAmB;wBACtB,GAAG,QAAQ,UAAU;oBACzB;gBACJ;gBAEA,OAAO;oBACH,UAAU;2BAAI,MAAM,QAAQ;wBAAE;qBAAW;gBAC7C;YACJ;QAEJ,eAAe;YACX,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG;YAClC,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA,KAAM,YAAY,QAAQ,CAAC,GAAG,EAAE;YACzE,IAAI,iBAAiB,MAAM,GAAG,GAAG;gBAC7B,IAAI;oBAAE,WAAW,KAAK,KAAK,CAAC,KAAK,SAAS,CAAC;gBAAmB;YAClE;QACJ;QAEA,gBAAgB;YACZ,MAAM,EAAE,SAAS,EAAE,GAAG;YACtB,IAAI,UAAU,MAAM,KAAK,GAAG;YAE5B,MAAM,iBAAiB,UAAU,GAAG,CAAC,CAAA,KAAM,CAAC;oBACxC,GAAG,EAAE;oBACL,IAAI;oBACJ,GAAG,GAAG,CAAC,GAAG;oBACV,GAAG,GAAG,CAAC,GAAG;gBACd,CAAC;YAED,IAAI,CAAC,QAAU,CAAC;oBACZ,UAAU;2BAAI,MAAM,QAAQ;2BAAK;qBAAe;oBAChD,aAAa,eAAe,GAAG,CAAC,CAAA,KAAM,GAAG,EAAE;gBAC/C,CAAC;YAED,8FAA8F;YAC9F,IAAI;gBAAE,WAAW;YAAe;QACpC;QAEA,eAAe,CAAC,IAAI;YAChB,MAAM,EAAE,WAAW,EAAE,GAAG;YACxB,IAAI,YAAY,MAAM,KAAK,GAAG;YAC9B,IAAI,CAAC,QAAU,CAAC;oBACZ,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAA,KACzB,YAAY,QAAQ,CAAC,GAAG,EAAE,IACpB;4BAAE,GAAG,EAAE;4BAAE,GAAG,GAAG,CAAC,GAAG;4BAAI,GAAG,GAAG,CAAC,GAAG;wBAAG,IACpC;gBAEd,CAAC;QACL;QAEA,eAAe,CAAC,IAAI,UAChB,IAAI,CAAC;gBACD,MAAM,UAAU,KAAK;oBAAC;iBAAG,GAAG,MAAM,WAAW;gBAC7C,OAAO;oBACH,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,KAC1B,QAAQ,QAAQ,CAAC,GAAG,EAAE,IAAI;4BAAE,GAAG,EAAE;4BAAE,GAAG,OAAO;wBAAC,IAAI;gBAE1D;YACJ;QAEJ,kBAAkB,CAAC,IAAI,gBACnB,IAAI,CAAC;gBACD,MAAM,UAAU,KAAK;oBAAC;iBAAG,GAAG,MAAM,WAAW;gBAC7C,OAAO;oBACH,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,KAC1B,QAAQ,QAAQ,CAAC,GAAG,EAAE,IAChB;4BACE,GAAG,EAAE;4BACL,YAAY;gCACR,GAAG,GAAG,UAAU;gCAChB,GAAG,aAAa;4BACpB;wBACJ,IACE;gBAEd;YACJ;QAEJ,eAAe,CAAC,KACZ,IAAI,CAAC,QAAU,CAAC;oBACZ,UAAU,MAAM,QAAQ,CAAC,MAAM,CAAC,CAAC,KAAO,GAAG,EAAE,KAAK;oBAClD,aAAa,MAAM,WAAW,CAAC,MAAM,CAAC,CAAC,SAAW,WAAW;gBACjE,CAAC;QAEL,uBAAuB;YACnB,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG;YAClC,IAAI,YAAY,MAAM,GAAG,GAAG;gBACxB,IAAI;oBACA,UAAU,SAAS,MAAM,CAAC,CAAA,KAAM,CAAC,YAAY,QAAQ,CAAC,GAAG,EAAE;oBAC3D,aAAa,EAAE;gBACnB;YACJ;QACJ;QAEA,eAAe,IAAM,IAAI;gBAAE,UAAU,EAAE;gBAAE,aAAa,EAAE;YAAC;QAEzD,uBAAuB;QACvB,aAAa,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,GAChC,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;2BACL,MAAM,UAAU;wBACnB;4BAAE,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;4BAAE;4BAAM;4BAAO;wBAAM;qBACjD;gBACL,CAAC;QAEL,gBAAgB,CAAC,IAAI,UACjB,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY,MAAM,UAAU,CAAC,GAAG,CAAC,CAAC,MAC9B,IAAI,EAAE,KAAK,KAAK;4BAAE,GAAG,GAAG;4BAAE,GAAG,OAAO;wBAAC,IAAI;gBAEjD,CAAC;QAEL,gBAAgB,CAAC,KACb,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY,MAAM,UAAU,CAAC,MAAM,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;gBAC5D,CAAC;QAGL,iEAAiE;QACjE,aAAa,CAAC;YACV,IAAI,CAAC,MAAM,OAAO,CAAC,WAAW;YAE9B,MAAM,gBAAgB,SAAS,MAAM,CAAC,CAAA;gBAClC,OACI,MACA,GAAG,IAAI,IACP,OAAO,GAAG,CAAC,KAAK,YAAY,OAAO,GAAG,CAAC,KAAK,YAC5C,OAAO,GAAG,KAAK,KAAK,YAAY,OAAO,GAAG,MAAM,KAAK,YACrD,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM,GAAG,KAC5B,SAAS,GAAG,CAAC,KAAK,SAAS,GAAG,CAAC,KAAK,SAAS,GAAG,KAAK,KAAK,SAAS,GAAG,MAAM;YAEpF;YAEA,IAAI,SAAS,MAAM,KAAK,cAAc,MAAM,EAAE;gBAC1C,QAAQ,IAAI,CAAC,CAAC,0BAA0B,EAAE,SAAS,MAAM,GAAG,cAAc,MAAM,CAAC,kBAAkB,CAAC;YACxG;YAEA,IAAI;gBAAE,UAAU;YAAc;QAClC;QAEA,4BAA4B;QAC5B,sBAAsB,CAAC,UACnB,IAAI,CAAC,QAAU,CAAC;oBACZ,gBAAgB;wBAAE,GAAG,MAAM,cAAc;wBAAE,GAAG,OAAO;oBAAC;gBAC1D,CAAC;QAEL,uBAAuB;QACvB,aAAa,CAAC,WACV,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;2BAAI,MAAM,UAAU;wBAAE;4BAAE,GAAG,QAAQ;4BAAE,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;wBAAC;qBAAE;gBAC/E,CAAC;QAEL,gBAAgB,CAAC,IAAI,UACjB,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY,MAAM,UAAU,CAAC,GAAG,CAAC,CAAC,MAC9B,IAAI,EAAE,KAAK,KAAK;4BAAE,GAAG,GAAG;4BAAE,GAAG,OAAO;wBAAC,IAAI;gBAEjD,CAAC;QAEL,gBAAgB,CAAC,KACb,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY,MAAM,UAAU,CAAC,MAAM,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK;oBACxD,qCAAqC;oBACrC,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC;wBAC1B,MAAM,QAAQ;4BAAE,GAAG,EAAE;wBAAC;wBACtB,IAAI,GAAG,UAAU,IAAI,GAAG,UAAU,CAAC,UAAU,KAAK,IAAI;4BAClD,MAAM,UAAU,GAAG;gCAAE,GAAG,GAAG,UAAU;gCAAE,YAAY;4BAAK;wBAC5D;wBACA,OAAO;oBACX;gBACJ,CAAC;QAEL,gBAAgB,CAAC,IAAI,aACjB,IAAI,CAAC,QAAU,CAAC;oBACZ,UAAU,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,KAC1B,GAAG,EAAE,KAAK,KACJ;4BACE,GAAG,EAAE;4BACL,YAAY;gCACR,GAAG,GAAG,UAAU;gCAChB;4BACJ;wBACJ,IACE;gBAEd,CAAC;QAEL,+BAA+B;QAC/B,qBAAqB;YACjB,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG;YAClC,OAAO,SAAS,MAAM,CAAC,CAAC,KAAO,YAAY,QAAQ,CAAC,GAAG,EAAE;QAC7D;QAEA,gBAAgB,IAAM,MAAM,WAAW;QAEvC,yBAAyB;QACzB,YAAY,IACR,IAAI;gBACA,aAAa;oBACT,OAAO;oBACP,QAAQ;oBACR,GAAG;oBACH,GAAG;oBACH,OAAO;gBACX;gBACA,MAAM,WAAW,MAAM;gBACvB,UAAU,EAAE;gBACZ,aAAa,EAAE;YACnB;IACR,CAAC;uCAEc"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/components/seat-engine/Toolbox.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { MousePointer2, Square, Circle, PenTool, Image, RotateCw, LayoutGrid, Maximize2 } from \"lucide-react\";\r\nimport useSeatEngine, { TOOL_TYPES } from \"@/hooks/use-seat-engine\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n/**\r\n * Royal Seat Engine - Toolbox Component\r\n * Phase 12: Advanced Tools & Assets\r\n */\r\n\r\nconst tools = [\r\n    {\r\n        id: TOOL_TYPES.SELECT,\r\n        icon: MousePointer2,\r\n        label: \"Select\",\r\n        shortcut: \"V\",\r\n    },\r\n    {\r\n        id: TOOL_TYPES.RECTANGLE,\r\n        icon: Square,\r\n        label: \"Rectangle\",\r\n        shortcut: \"R\",\r\n    },\r\n    {\r\n        id: TOOL_TYPES.CIRCLE,\r\n        icon: Circle,\r\n        label: \"Circle\",\r\n        shortcut: \"C\",\r\n    },\r\n    {\r\n        id: TOOL_TYPES.POLYGON,\r\n        icon: PenTool,\r\n        label: \"Pen Tool\",\r\n        shortcut: \"P\",\r\n    },\r\n    {\r\n        id: TOOL_TYPES.CURVE,\r\n        icon: RotateCw,\r\n        label: \"Arc Tool\",\r\n        shortcut: \"A\",\r\n    },\r\n    {\r\n        id: \"STAGE\",\r\n        icon: LayoutGrid,\r\n        label: \"Add Stage\",\r\n        type: TOOL_TYPES.IMAGE,\r\n        assetType: \"STAGE\",\r\n        shortcut: \"S\"\r\n    },\r\n    {\r\n        id: \"EXIT\",\r\n        icon: Maximize2,\r\n        label: \"Add Exit\",\r\n        type: TOOL_TYPES.IMAGE,\r\n        assetType: \"EXIT\",\r\n        shortcut: \"E\"\r\n    },\r\n    {\r\n        id: TOOL_TYPES.IMAGE,\r\n        icon: Image,\r\n        label: \"Custom Asset\",\r\n        shortcut: \"I\",\r\n    },\r\n];\r\n\r\nexport default function Toolbox() {\r\n    const { tool, setTool, clearSelection } = useSeatEngine();\r\n\r\n    const handleToolClick = (t) => {\r\n        setTool(t.id);\r\n        clearSelection();\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-1.5 p-2 bg-zinc-900/80 backdrop-blur-sm border border-zinc-800/50 rounded-xl shadow-2xl\">\r\n            {tools.map((t) => {\r\n                const isActive = tool === t.id;\r\n                const Icon = t.icon;\r\n\r\n                return (\r\n                    <button\r\n                        key={t.id}\r\n                        onClick={() => handleToolClick(t)}\r\n                        title={`${t.label} (Shortcut: ${t.shortcut})`}\r\n                        className={cn(\r\n                            \"relative w-10 h-10 flex items-center justify-center rounded-lg transition-all duration-200 group\",\r\n                            isActive\r\n                                ? \"bg-amber-500 text-black shadow-lg shadow-amber-500/20\"\r\n                                : \"bg-zinc-800/50 text-zinc-400 hover:text-white hover:bg-zinc-700/50\"\r\n                        )}\r\n                    >\r\n                        <Icon className=\"w-5 h-5\" strokeWidth={isActive ? 2.5 : 2} />\r\n\r\n                        {/* Tooltip */}\r\n                        <div className=\"absolute left-full ml-3 px-2 py-1 rounded-md bg-zinc-800 border border-zinc-700 text-xs text-white whitespace-nowrap opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity z-50\">\r\n                            {t.label}\r\n                            {t.shortcut && <span className=\"ml-2 text-zinc-500 font-mono text-[10px]\">{t.shortcut}</span>}\r\n                        </div>\r\n\r\n                        {/* Active indicator */}\r\n                        {isActive && (\r\n                            <div className=\"absolute -left-3 top-1/2 -translate-y-1/2 w-1.5 h-6 bg-amber-500 rounded-full blur-[2px]\" />\r\n                        )}\r\n                    </button>\r\n                );\r\n            })}\r\n\r\n            {/* Divider */}\r\n            <div className=\"h-px bg-zinc-700/50 my-1 mx-1\" />\r\n\r\n            {/* Element count indicator */}\r\n            <div className=\"py-1\">\r\n                <ElementCount />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ElementCount() {\r\n    const elements = useSeatEngine((state) => state.elements);\r\n    return (\r\n        <div className=\"text-[9px] text-center text-zinc-600 font-bold uppercase tracking-tighter\">\r\n            {elements.length} OBJ\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAJA;;;;AAMA;;;CAGC,GAED,MAAM,QAAQ;IACV;QACI,IAAI,+IAAU,CAAC,MAAM;QACrB,MAAM,gPAAa;QACnB,OAAO;QACP,UAAU;IACd;IACA;QACI,IAAI,+IAAU,CAAC,SAAS;QACxB,MAAM,mNAAM;QACZ,OAAO;QACP,UAAU;IACd;IACA;QACI,IAAI,+IAAU,CAAC,MAAM;QACrB,MAAM,mNAAM;QACZ,OAAO;QACP,UAAU;IACd;IACA;QACI,IAAI,+IAAU,CAAC,OAAO;QACtB,MAAM,0NAAO;QACb,OAAO;QACP,UAAU;IACd;IACA;QACI,IAAI,+IAAU,CAAC,KAAK;QACpB,MAAM,6NAAQ;QACd,OAAO;QACP,UAAU;IACd;IACA;QACI,IAAI;QACJ,MAAM,mOAAU;QAChB,OAAO;QACP,MAAM,+IAAU,CAAC,KAAK;QACtB,WAAW;QACX,UAAU;IACd;IACA;QACI,IAAI;QACJ,MAAM,gOAAS;QACf,OAAO;QACP,MAAM,+IAAU,CAAC,KAAK;QACtB,WAAW;QACX,UAAU;IACd;IACA;QACI,IAAI,+IAAU,CAAC,KAAK;QACpB,MAAM,gNAAK;QACX,OAAO;QACP,UAAU;IACd;CACH;AAEc,SAAS;;IACpB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,cAAc,EAAE,GAAG,IAAA,4IAAa;IAEvD,MAAM,kBAAkB,CAAC;QACrB,QAAQ,EAAE,EAAE;QACZ;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;YACV,MAAM,GAAG,CAAC,CAAC;gBACR,MAAM,WAAW,SAAS,EAAE,EAAE;gBAC9B,MAAM,OAAO,EAAE,IAAI;gBAEnB,qBACI,6LAAC;oBAEG,SAAS,IAAM,gBAAgB;oBAC/B,OAAO,GAAG,EAAE,KAAK,CAAC,YAAY,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC;oBAC7C,WAAW,IAAA,qHAAE,EACT,oGACA,WACM,0DACA;;sCAGV,6LAAC;4BAAK,WAAU;4BAAU,aAAa,WAAW,MAAM;;;;;;sCAGxD,6LAAC;4BAAI,WAAU;;gCACV,EAAE,KAAK;gCACP,EAAE,QAAQ,kBAAI,6LAAC;oCAAK,WAAU;8CAA4C,EAAE,QAAQ;;;;;;;;;;;;wBAIxF,0BACG,6LAAC;4BAAI,WAAU;;;;;;;mBApBd,EAAE,EAAE;;;;;YAwBrB;0BAGA,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;;;;;;;;;;;;;;;;AAIjB;GAnDwB;;QACsB,4IAAa;;;KADnC;AAqDxB,SAAS;;IACL,MAAM,WAAW,IAAA,4IAAa;gDAAC,CAAC,QAAU,MAAM,QAAQ;;IACxD,qBACI,6LAAC;QAAI,WAAU;;YACV,SAAS,MAAM;YAAC;;;;;;;AAG7B;IAPS;;QACY,4IAAa;;;MADzB"}},
    {"offset": {"line": 527, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/components/seat-engine/PropertiesPanel.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { X, Trash2, Grid3X3, Move, RotateCw, Maximize2, LayoutGrid, Rows3, Columns3, AlignLeft, AlignCenterHorizontal, AlignStartVertical, AlignCenterVertical } from \"lucide-react\";\r\nimport useSeatEngine, { TOOL_TYPES, SEAT_NAMING } from \"@/hooks/use-seat-engine\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n/**\r\n * Royal Seat Engine - Properties Panel\r\n * Phase 4: Smart Zone Logic with Seating Configuration\r\n */\r\n\r\nexport default function PropertiesPanel() {\r\n    const {\r\n        selectedIds,\r\n        elements,\r\n        updateElement,\r\n        updateSeatConfig,\r\n        deleteSelectedElement,\r\n        clearSelection,\r\n        canvasSettings,\r\n        updateCanvasSettings,\r\n    } = useSeatEngine();\r\n\r\n    const selectedElements = elements.filter((el) => selectedIds.includes(el.id));\r\n    const selectedElement = selectedElements.length === 1 ? selectedElements[0] : null;\r\n\r\n    // Handle input changes with two-way binding\r\n    const handleChange = (field, value) => {\r\n        if (selectedIds.length === 0) return;\r\n        const numValue = parseFloat(value);\r\n        if (!isNaN(numValue)) {\r\n            // Apply to all selected (passing null as ID to update all in selectedIds)\r\n            updateElement(null, { [field]: numValue });\r\n        }\r\n    };\r\n\r\n    // Handle seat config changes\r\n    const handleSeatConfigChange = (field, value) => {\r\n        if (selectedIds.length === 0) return;\r\n        // Apply to all selected\r\n        updateSeatConfig(null, { [field]: value });\r\n    };\r\n\r\n    // Alignment logic\r\n    const alignElements = (direction) => {\r\n        if (selectedIds.length <= 1) return;\r\n        const selected = elements.filter(el => selectedIds.includes(el.id));\r\n\r\n        let targetValue;\r\n        switch (direction) {\r\n            case 'left':\r\n                targetValue = Math.min(...selected.map(el => el.x));\r\n                updateElement(null, { x: targetValue });\r\n                break;\r\n            case 'top':\r\n                targetValue = Math.min(...selected.map(el => el.y));\r\n                updateElement(null, { y: targetValue });\r\n                break;\r\n            case 'center-h':\r\n                const minX = Math.min(...selected.map(el => el.x));\r\n                const maxX = Math.max(...selected.map(el => el.x + el.width));\r\n                const midX = (minX + maxX) / 2;\r\n                selected.forEach(el => updateElement(el.id, { x: midX - el.width / 2 }));\r\n                break;\r\n            case 'center-v':\r\n                const minY = Math.min(...selected.map(el => el.y));\r\n                const maxY = Math.max(...selected.map(el => el.y + el.height));\r\n                const midY = (minY + maxY) / 2;\r\n                selected.forEach(el => updateElement(el.id, { y: midY - el.height / 2 }));\r\n                break;\r\n        }\r\n    };\r\n\r\n    // If nothing selected, show canvas settings\r\n    if (selectedIds.length === 0) {\r\n        return (\r\n            <div className=\"w-64 bg-zinc-900/90 backdrop-blur-sm border-l border-zinc-800/50 flex flex-col h-full\">\r\n                {/* Header */}\r\n                <div className=\"p-4 border-b border-zinc-800/50\">\r\n                    <div className=\"flex items-center gap-2 text-zinc-400\">\r\n                        <Grid3X3 className=\"w-4 h-4\" />\r\n                        <span className=\"text-sm font-medium\">Canvas Settings</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Canvas Settings... contents remain same but variable names might need check */}\r\n                {/* Omitted for brevity, but I will keep the actual JSX structure if I replace the whole block or just the condition */}\r\n                <div className=\"p-4 space-y-4\">\r\n                    {/* Grid Size */}\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-xs text-zinc-500 uppercase tracking-wider\">\r\n                            Grid Size\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={canvasSettings.gridSize}\r\n                            onChange={(e) =>\r\n                                updateCanvasSettings({ gridSize: parseInt(e.target.value) || 20 })\r\n                            }\r\n                            className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Show Grid Toggle */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <label className=\"text-xs text-zinc-500 uppercase tracking-wider\">\r\n                            Show Grid\r\n                        </label>\r\n                        <button\r\n                            onClick={() =>\r\n                                updateCanvasSettings({ showGrid: !canvasSettings.showGrid })\r\n                            }\r\n                            className={cn(\r\n                                \"w-10 h-6 rounded-full transition-colors relative\",\r\n                                canvasSettings.showGrid ? \"bg-amber-500\" : \"bg-zinc-700\"\r\n                            )}\r\n                        >\r\n                            <div\r\n                                className={cn(\r\n                                    \"absolute top-1 w-4 h-4 rounded-full bg-white transition-transform\",\r\n                                    canvasSettings.showGrid ? \"left-5\" : \"left-1\"\r\n                                )}\r\n                            />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Snap to Grid Toggle */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <label className=\"text-xs text-zinc-500 uppercase tracking-wider\">\r\n                            Snap to Grid\r\n                        </label>\r\n                        <button\r\n                            onClick={() =>\r\n                                updateCanvasSettings({ snapToGrid: !canvasSettings.snapToGrid })\r\n                            }\r\n                            className={cn(\r\n                                \"w-10 h-6 rounded-full transition-colors relative\",\r\n                                canvasSettings.snapToGrid ? \"bg-amber-500\" : \"bg-zinc-700\"\r\n                            )}\r\n                        >\r\n                            <div\r\n                                className={cn(\r\n                                    \"absolute top-1 w-4 h-4 rounded-full bg-white transition-transform\",\r\n                                    canvasSettings.snapToGrid ? \"left-5\" : \"left-1\"\r\n                                )}\r\n                            />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex-1 flex items-center justify-center p-4\">\r\n                    <p className=\"text-xs text-zinc-600 text-center\">\r\n                        Select one or more shapes to edit properties\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const isBulk = selectedIds.length > 1;\r\n    const isRectangle = selectedElement?.type === TOOL_TYPES.RECTANGLE;\r\n    const seatConfig = selectedElement?.seatConfig;\r\n    const totalSeats = seatConfig ? seatConfig.rowCount * seatConfig.colCount : 0;\r\n\r\n    // Shape selected - show properties\r\n    return (\r\n        <div className=\"w-64 bg-zinc-900/90 backdrop-blur-sm border-l border-zinc-800/50 flex flex-col h-full\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-zinc-800/50 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"w-3 h-3 rounded bg-[#D4AF37]\" />\r\n                    <span className=\"text-sm font-medium text-white\">\r\n                        {isBulk ? `Bulk Edit (${selectedIds.length})` :\r\n                            selectedElement.type === TOOL_TYPES.RECTANGLE ? \"Zone\" :\r\n                                selectedElement.type === TOOL_TYPES.CIRCLE ? \"Circle\" :\r\n                                    selectedElement.type === TOOL_TYPES.POLYGON ? \"Polygon\" :\r\n                                        selectedElement.type === TOOL_TYPES.CURVE ? \"Arc\" : \"Asset\"}\r\n                    </span>\r\n                    {!isBulk && isRectangle && seatConfig && (\r\n                        <span className=\"text-xs text-zinc-500\">\r\n                            ({totalSeats} seats)\r\n                        </span>\r\n                    )}\r\n                </div>\r\n                <button\r\n                    onClick={clearSelection}\r\n                    className=\"p-1 hover:bg-zinc-800 rounded transition-colors text-zinc-500 hover:text-white\"\r\n                >\r\n                    <X className=\"w-4 h-4\" />\r\n                </button>\r\n            </div>\r\n\r\n            {/* Properties */}\r\n            <div className=\"p-4 space-y-4 flex-1 overflow-y-auto\">\r\n                {/* IDENTITY - Name & Color */}\r\n                <div className=\"space-y-3\">\r\n                    <div className=\"flex items-center gap-2 text-zinc-500\">\r\n                        <span className=\"text-xs uppercase tracking-wider\">Identity</span>\r\n                    </div>\r\n\r\n                    {/* Name Input - Hide in Bulk */}\r\n                    {!isBulk && (\r\n                        <div>\r\n                            <label className=\"text-[10px] text-zinc-600 mb-1 block\">Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={selectedElement.name || \"\"}\r\n                                onChange={(e) => updateElement(selectedElement.id, { name: e.target.value })}\r\n                                placeholder={isRectangle ? \"Section Name\" : \"Shape Name\"}\r\n                                className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Bulk Selection alignment tools */}\r\n                    {isBulk && (\r\n                        <div className=\"p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl space-y-2\">\r\n                            <label className=\"text-[10px] text-zinc-500 uppercase tracking-widest block font-semibold mb-2\">Align Selection</label>\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <button onClick={() => alignElements('left')} className=\"p-2 hover:bg-zinc-700 rounded transition-colors text-zinc-300\" title=\"Align Left\"><AlignLeft className=\"w-4 h-4\" /></button>\r\n                                <button onClick={() => alignElements('center-h')} className=\"p-2 hover:bg-zinc-700 rounded transition-colors text-zinc-300\" title=\"Align Center (H)\"><AlignCenterHorizontal className=\"w-4 h-4\" /></button>\r\n                                <button onClick={() => alignElements('top')} className=\"p-2 hover:bg-zinc-700 rounded transition-colors text-zinc-300\" title=\"Align Top\"><AlignStartVertical className=\"w-4 h-4\" /></button>\r\n                                <button onClick={() => alignElements('center-v')} className=\"p-2 hover:bg-zinc-700 rounded transition-colors text-zinc-300\" title=\"Align Middle (V)\"><AlignCenterVertical className=\"w-4 h-4\" /></button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Category Selection */}\r\n                    {(isBulk || selectedElement.type === TOOL_TYPES.RECTANGLE || selectedElement.type === TOOL_TYPES.CURVE) && (\r\n                        <div className=\"p-3 bg-amber-500/[0.03] border border-amber-500/10 rounded-xl space-y-2\">\r\n                            <label className=\"text-[10px] text-zinc-500 uppercase tracking-widest block font-semibold\">\r\n                                {isBulk ? \"Bulk Category\" : \"Pricing Category\"}\r\n                            </label>\r\n                            <select\r\n                                value={isBulk ? \"\" : (seatConfig?.categoryId || \"\")}\r\n                                onChange={(e) => handleSeatConfigChange(\"categoryId\", e.target.value)}\r\n                                className=\"w-full px-3 py-2 bg-zinc-900/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none appearance-none cursor-pointer\"\r\n                            >\r\n                                <option value=\"\">{isBulk ? \"Choose Category...\" : \"No Category (Free/GA)\"}</option>\r\n                                {useSeatEngine.getState().categories.map((cat) => (\r\n                                    <option key={cat.id} value={cat.id}>\r\n                                        {cat.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n\r\n                            {!isBulk && seatConfig?.categoryId && (\r\n                                <div className=\"flex items-center justify-between px-2 py-1.5 bg-zinc-900/50 rounded-md border border-zinc-800/50\">\r\n                                    <span className=\"text-[10px] text-zinc-500\">Price Tier</span>\r\n                                    <span className=\"text-[10px] text-amber-500 font-bold\">\r\n                                        ${useSeatEngine.getState().categories.find(c => c.id === seatConfig.categoryId)?.price || 0}\r\n                                    </span>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Table Configuration */}\r\n                    {(selectedElement?.type === TOOL_TYPES.ASSET || selectedElement?.type === TOOL_TYPES.IMAGE) && (selectedElement?.assetType === 'TABLE' || selectedElement?.assetConfig?.type === 'TABLE') && (\r\n                        <div className=\"p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl space-y-3\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <label className=\"text-[10px] text-zinc-500 uppercase tracking-widest block font-semibold\">Table Capacity</label>\r\n                                <span className=\"text-xs font-bold text-amber-500\">{seatConfig?.capacity || 6}</span>\r\n                            </div>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"0\"\r\n                                max=\"20\"\r\n                                value={seatConfig?.capacity || 6}\r\n                                onChange={(e) => handleSeatConfigChange(\"capacity\", parseInt(e.target.value))}\r\n                                className=\"w-full h-1.5 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-amber-500\"\r\n                            />\r\n                            <div className=\"flex justify-between text-[8px] text-zinc-600 font-mono\">\r\n                                <span>0</span>\r\n                                <span>10</span>\r\n                                <span>20</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Asset Type Display */}\r\n                    {(selectedElement?.type === TOOL_TYPES.IMAGE || selectedElement?.type === TOOL_TYPES.ASSET) && (\r\n                        <div className=\"p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl\">\r\n                            <label className=\"text-[10px] text-zinc-500 uppercase tracking-widest block mb-1\">Asset Class</label>\r\n                            <div className=\"flex items-center gap-2 text-white text-sm font-medium\">\r\n                                <LayoutGrid className=\"w-4 h-4 text-amber-500\" />\r\n                                {selectedElement.assetType || \"Custom Asset\"}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Color Picker */}\r\n                    <div>\r\n                        <label className=\"text-[10px] text-zinc-600 mb-1 block\">\r\n                            {isBulk ? \"Bulk Color\" : \"Color\"}\r\n                        </label>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            {[\r\n                                \"#D4AF37\", // Gold\r\n                                \"#ef4444\", // Red\r\n                                \"#f97316\", // Orange\r\n                                \"#eab308\", // Yellow\r\n                                \"#22c55e\", // Green\r\n                                \"#3b82f6\", // Blue\r\n                                \"#a855f7\", // Purple\r\n                                \"#ec4899\", // Pink\r\n                                \"#71717a\", // Zinc\r\n                            ].map((color) => (\r\n                                <button\r\n                                    key={color}\r\n                                    onClick={() => updateElement(null, { fill: color })}\r\n                                    className={cn(\r\n                                        \"w-6 h-6 rounded-full border transition-all\",\r\n                                        !isBulk && selectedElement.fill === color\r\n                                            ? \"border-white scale-110 shadow-sm\"\r\n                                            : \"border-transparent opacity-70 hover:opacity-100\"\r\n                                    )}\r\n                                    style={{ backgroundColor: color }}\r\n                                />\r\n                            ))}\r\n                            {/* Custom Color Input */}\r\n                            <div className=\"relative w-6 h-6 rounded-full overflow-hidden border border-zinc-700\">\r\n                                <input\r\n                                    type=\"color\"\r\n                                    value={isBulk ? \"#D4AF37\" : (selectedElement.fill || \"#D4AF37\")}\r\n                                    onChange={(e) => updateElement(null, { fill: e.target.value })}\r\n                                    className=\"absolute inset-0 w-[150%] h-[150%] -top-[25%] -left-[25%] cursor-pointer p-0 border-0\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"h-px bg-zinc-800/50 my-2\" />\r\n                {/* Position/Size/Rotation - Hide in Bulk for now to avoid complexity */}\r\n                {!isBulk && (\r\n                    <>\r\n                        {/* Position */}\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex items-center gap-2 text-zinc-500\">\r\n                                <Move className=\"w-3 h-3\" />\r\n                                <span className=\"text-xs uppercase tracking-wider\">Position</span>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <div>\r\n                                    <label className=\"text-[10px] text-zinc-600 mb-1 block\">X</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={Math.round(selectedElement.x)}\r\n                                        onChange={(e) => handleChange(\"x\", e.target.value)}\r\n                                        className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"text-[10px] text-zinc-600 mb-1 block\">Y</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={Math.round(selectedElement.y)}\r\n                                        onChange={(e) => handleChange(\"y\", e.target.value)}\r\n                                        className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Size */}\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex items-center gap-2 text-zinc-500\">\r\n                                <Maximize2 className=\"w-3 h-3\" />\r\n                                <span className=\"text-xs uppercase tracking-wider\">Size</span>\r\n                            </div>\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <div>\r\n                                    <label className=\"text-[10px] text-zinc-600 mb-1 block\">Width</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={Math.round(selectedElement.width)}\r\n                                        onChange={(e) => handleChange(\"width\", e.target.value)}\r\n                                        className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"text-[10px] text-zinc-600 mb-1 block\">Height</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        value={Math.round(selectedElement.height)}\r\n                                        onChange={(e) => handleChange(\"height\", e.target.value)}\r\n                                        className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Rotation */}\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex items-center gap-2 text-zinc-500\">\r\n                                <RotateCw className=\"w-3 h-3\" />\r\n                                <span className=\"text-xs uppercase tracking-wider\">Rotation</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"0\"\r\n                                    max=\"360\"\r\n                                    value={selectedElement.rotation || 0}\r\n                                    onChange={(e) => handleChange(\"rotation\", e.target.value)}\r\n                                    className=\"flex-1 h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-amber-500\"\r\n                                />\r\n                                <span className=\"text-xs text-zinc-400 w-10 text-right\">\r\n                                    {Math.round(selectedElement.rotation || 0)}Â°\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Curvature (Only for Rectangles) */}\r\n                        {isRectangle && (\r\n                            <div className=\"space-y-2\">\r\n                                <div className=\"flex items-center gap-2 text-zinc-500\">\r\n                                    <RotateCw className=\"w-3 h-3 text-amber-500/70\" />\r\n                                    <span className=\"text-xs uppercase tracking-wider\">Curvature (Arc)</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <input\r\n                                        type=\"range\"\r\n                                        min=\"0\"\r\n                                        max=\"100\"\r\n                                        value={seatConfig?.curvature || 0}\r\n                                        onChange={(e) => handleSeatConfigChange(\"curvature\", parseInt(e.target.value))}\r\n                                        className=\"flex-1 h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-amber-500\"\r\n                                    />\r\n                                    <span className=\"text-xs text-zinc-400 w-10 text-right\">\r\n                                        {seatConfig?.curvature || 0}%\r\n                                    </span>\r\n                                </div>\r\n                                {seatConfig?.curvature > 0 && (\r\n                                    <p className=\"text-[10px] text-zinc-600 italic\">Converts section into a radial arc</p>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                )}\r\n\r\n                {/* SEATING CONFIGURATION - Only for Rectangles */}\r\n                {isRectangle && seatConfig && (\r\n                    <>\r\n                        <div className=\"h-px bg-zinc-800/50 my-2\" />\r\n\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"flex items-center gap-2 text-amber-500\">\r\n                                <LayoutGrid className=\"w-3 h-3\" />\r\n                                <span className=\"text-xs uppercase tracking-wider font-medium\">\r\n                                    Seating Configuration\r\n                                </span>\r\n                            </div>\r\n\r\n                            {/* Row Count */}\r\n                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                <div>\r\n                                    <label className=\"text-[10px] text-zinc-600 mb-1 flex items-center gap-1\">\r\n                                        <Rows3 className=\"w-3 h-3\" /> Rows\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        min={1}\r\n                                        max={50}\r\n                                        value={seatConfig.rowCount}\r\n                                        onChange={(e) => {\r\n                                            const val = Math.max(1, Math.min(50, parseInt(e.target.value) || 1));\r\n                                            handleSeatConfigChange(\"rowCount\", val);\r\n                                        }}\r\n                                        className=\"w-full px-3 py-2 bg-zinc-800/50 border border-amber-500/30 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"text-[10px] text-zinc-600 mb-1 flex items-center gap-1\">\r\n                                        <Columns3 className=\"w-3 h-3\" /> Columns\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        min={1}\r\n                                        max={50}\r\n                                        value={seatConfig.colCount}\r\n                                        onChange={(e) => {\r\n                                            const val = Math.max(1, Math.min(50, parseInt(e.target.value) || 1));\r\n                                            handleSeatConfigChange(\"colCount\", val);\r\n                                        }}\r\n                                        className=\"w-full px-3 py-2 bg-zinc-800/50 border border-amber-500/30 rounded-lg text-sm text-white focus:border-amber-500/50 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Naming Convention */}\r\n                            <div>\r\n                                <label className=\"text-[10px] text-zinc-600 mb-1 block\">\r\n                                    Row Naming\r\n                                </label>\r\n                                <div className=\"grid grid-cols-2 gap-2 mb-2\">\r\n                                    <button\r\n                                        onClick={() => handleSeatConfigChange(\"seatNaming\", SEAT_NAMING.ALPHABETICAL)}\r\n                                        className={cn(\r\n                                            \"px-3 py-2 text-xs rounded-lg border transition-colors\",\r\n                                            seatConfig.seatNaming === SEAT_NAMING.ALPHABETICAL\r\n                                                ? \"bg-amber-500/20 border-amber-500/50 text-amber-400\"\r\n                                                : \"bg-zinc-800/50 border-zinc-700/50 text-zinc-400 hover:border-zinc-600\"\r\n                                        )}\r\n                                    >\r\n                                        A, B, C...\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleSeatConfigChange(\"seatNaming\", SEAT_NAMING.NUMERICAL)}\r\n                                        className={cn(\r\n                                            \"px-3 py-2 text-xs rounded-lg border transition-colors\",\r\n                                            seatConfig.seatNaming === SEAT_NAMING.NUMERICAL\r\n                                                ? \"bg-amber-500/20 border-amber-500/50 text-amber-400\"\r\n                                                : \"bg-zinc-800/50 border-zinc-700/50 text-zinc-400 hover:border-zinc-600\"\r\n                                        )}\r\n                                    >\r\n                                        1, 2, 3...\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {/* Show Row Labels Toggle */}\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <label className=\"text-[10px] text-zinc-500 uppercase tracking-wider\">\r\n                                        Show Row Labels\r\n                                    </label>\r\n                                    <button\r\n                                        onClick={() => handleSeatConfigChange(\"showLabels\", !seatConfig.showLabels)}\r\n                                        className={cn(\r\n                                            \"w-8 h-5 rounded-full transition-colors relative\",\r\n                                            seatConfig.showLabels ? \"bg-amber-500\" : \"bg-zinc-700\"\r\n                                        )}\r\n                                    >\r\n                                        <div\r\n                                            className={cn(\r\n                                                \"absolute top-1 w-3 h-3 rounded-full bg-white transition-transform\",\r\n                                                seatConfig.showLabels ? \"left-4\" : \"left-1\"\r\n                                            )}\r\n                                        />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Total Seats Display */}\r\n                            <div className=\"px-3 py-2 bg-amber-500/10 border border-amber-500/30 rounded-lg\">\r\n                                <div className=\"flex items-center justify-between text-xs\">\r\n                                    <span className=\"text-zinc-400\">Total Seats</span>\r\n                                    <span className=\"text-amber-400 font-bold\">{totalSeats}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                {/* Details - Only for Single selection */}\r\n                {!isBulk && (\r\n                    <div className=\"space-y-2\">\r\n                        <span className=\"text-xs uppercase tracking-wider text-zinc-500\">ID</span>\r\n                        <div className=\"px-3 py-2 bg-zinc-800/30 border border-zinc-700/30 rounded-lg text-xs text-zinc-500 font-mono truncate\">\r\n                            {selectedElement.id}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Delete Button */}\r\n            <div className=\"p-4 border-t border-zinc-800/50\">\r\n                <button\r\n                    onClick={deleteSelectedElement}\r\n                    className=\"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 rounded-lg text-red-400 text-sm font-medium transition-colors\"\r\n                >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                    Delete {isBulk ? `Selected (${selectedIds.length})` : (isRectangle ? \"Zone\" : \"Shape\")}\r\n                </button>\r\n                <p className=\"text-[10px] text-zinc-600 text-center mt-2\">\r\n                    Or press Delete / Backspace\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1906, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/components/seat-engine/CategoryManager.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Plus, Trash2, Palette } from \"lucide-react\";\r\nimport useSeatEngine from \"@/hooks/use-seat-engine\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\";\r\n\r\n/**\r\n * Royal Seat Engine - Category Manager\r\n * Phase 12: Global Pricing & Color Management\r\n */\r\n\r\nconst PRESET_COLORS = [\r\n    \"#D4AF37\", // Gold\r\n    \"#ef4444\", // Red\r\n    \"#f97316\", // Orange\r\n    \"#eab308\", // Yellow\r\n    \"#22c55e\", // Green\r\n    \"#3b82f6\", // Blue\r\n    \"#a855f7\", // Purple\r\n    \"#ec4899\", // Pink\r\n];\r\n\r\nexport default function CategoryManager() {\r\n    const { categories, addCategory, updateCategory, removeCategory } = useSeatEngine();\r\n    const [newCatName, setNewCatName] = useState(\"\");\r\n    const [newCatPrice, setNewCatPrice] = useState(50);\r\n    const [newCatColor, setNewCatColor] = useState(PRESET_COLORS[0]);\r\n\r\n    const handleAddCategory = () => {\r\n        if (!newCatName.trim()) return;\r\n        addCategory({\r\n            name: newCatName.trim(),\r\n            price: newCatPrice,\r\n            color: newCatColor\r\n        });\r\n        setNewCatName(\"\");\r\n        setNewCatPrice(50);\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-64 bg-zinc-900/90 backdrop-blur-sm border-l border-zinc-800/50 flex flex-col h-full\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-zinc-800/50\">\r\n                <div className=\"flex items-center gap-2 text-zinc-400\">\r\n                    <Palette className=\"w-4 h-4 text-amber-500\" />\r\n                    <span className=\"text-sm font-medium\">Pricing Categories</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Category List */}\r\n            <div className=\"flex-1 p-4 space-y-3 overflow-y-auto\">\r\n                {categories.length === 0 ? (\r\n                    <p className=\"text-xs text-zinc-600 text-center py-4\">\r\n                        No categories yet. Add one below to organize seat pricing.\r\n                    </p>\r\n                ) : (\r\n                    categories.map((cat) => (\r\n                        <div\r\n                            key={cat.id}\r\n                            className=\"p-3 bg-zinc-800/50 border border-zinc-700/50 rounded-lg space-y-2\"\r\n                        >\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <div\r\n                                        className=\"w-4 h-4 rounded-full border border-zinc-600\"\r\n                                        style={{ backgroundColor: cat.color }}\r\n                                    />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={cat.name}\r\n                                        onChange={(e) => updateCategory(cat.id, { name: e.target.value })}\r\n                                        className=\"bg-transparent text-sm text-white font-medium focus:outline-none w-24\"\r\n                                    />\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => removeCategory(cat.id)}\r\n                                    className=\"p-1 text-zinc-500 hover:text-red-500 transition-colors\"\r\n                                >\r\n                                    <Trash2 className=\"w-3 h-3\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Price */}\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"text-[10px] text-zinc-500\">$</span>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    value={cat.price}\r\n                                    onChange={(e) => updateCategory(cat.id, { price: parseFloat(e.target.value) || 0 })}\r\n                                    className=\"w-16 px-2 py-1 bg-zinc-900/50 border border-zinc-700/50 rounded text-xs text-amber-500 font-bold focus:outline-none focus:border-amber-500/50\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Color Picker */}\r\n                            <div className=\"flex flex-wrap gap-1\">\r\n                                {PRESET_COLORS.map((color) => (\r\n                                    <button\r\n                                        key={color}\r\n                                        onClick={() => updateCategory(cat.id, { color })}\r\n                                        className={cn(\r\n                                            \"w-5 h-5 rounded-full border transition-all\",\r\n                                            cat.color === color\r\n                                                ? \"border-white scale-110\"\r\n                                                : \"border-transparent opacity-60 hover:opacity-100\"\r\n                                        )}\r\n                                        style={{ backgroundColor: color }}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Add New Category */}\r\n            <div className=\"p-4 border-t border-zinc-800/50 space-y-3\">\r\n                <div className=\"text-[10px] text-zinc-500 uppercase tracking-wider font-semibold\">\r\n                    Add New Category\r\n                </div>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Category Name (e.g., VIP)\"\r\n                    value={newCatName}\r\n                    onChange={(e) => setNewCatName(e.target.value)}\r\n                    className=\"w-full px-3 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-white placeholder:text-zinc-600 focus:outline-none focus:border-amber-500/50\"\r\n                />\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className=\"text-xs text-zinc-500\">Price:</span>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={newCatPrice}\r\n                        onChange={(e) => setNewCatPrice(parseFloat(e.target.value) || 0)}\r\n                        className=\"w-20 px-2 py-1 bg-zinc-800/50 border border-zinc-700/50 rounded text-xs text-white focus:outline-none\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-1\">\r\n                    {PRESET_COLORS.map((color) => (\r\n                        <button\r\n                            key={color}\r\n                            onClick={() => setNewCatColor(color)}\r\n                            className={cn(\r\n                                \"w-5 h-5 rounded-full border transition-all\",\r\n                                newCatColor === color\r\n                                    ? \"border-white scale-110\"\r\n                                    : \"border-transparent opacity-60 hover:opacity-100\"\r\n                            )}\r\n                            style={{ backgroundColor: color }}\r\n                        />\r\n                    ))}\r\n                </div>\r\n                <button\r\n                    onClick={handleAddCategory}\r\n                    disabled={!newCatName.trim()}\r\n                    className=\"w-full flex items-center justify-center gap-2 px-3 py-2 bg-amber-500/10 border border-amber-500/30 text-amber-500 rounded-lg text-sm font-medium hover:bg-amber-500/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    Add Category\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/constants/seat-engine-assets.js"],"sourcesContent":["import {\r\n    MonitorSpeaker,\r\n    Martini,\r\n    Accessibility,\r\n    DoorOpen,\r\n    AlignJustify,\r\n    CircleDot,\r\n    Armchair,\r\n    Mic2,\r\n    Speaker,\r\n    Tv,\r\n    Utensils,\r\n    LayoutGrid\r\n} from \"lucide-react\";\r\n\r\nexport const ASSET_LIBRARY = [\r\n    {\r\n        type: 'STAGE',\r\n        label: 'Main Stage',\r\n        icon: MonitorSpeaker,\r\n        width: 300,\r\n        height: 150,\r\n        color: '#D4AF37',\r\n        description: \"Primary performance area\"\r\n    },\r\n    {\r\n        type: 'BAR',\r\n        label: 'Bar / Food',\r\n        icon: Martini,\r\n        width: 120,\r\n        height: 80,\r\n        color: '#ec4899',\r\n        description: \"Refreshment station\"\r\n    },\r\n    {\r\n        type: 'RESTROOM',\r\n        label: 'Restroom',\r\n        icon: Accessibility,\r\n        width: 80,\r\n        height: 80,\r\n        color: '#3b82f6',\r\n        description: \"Public facilities\"\r\n    },\r\n    {\r\n        type: 'EXIT',\r\n        label: 'Emergency Exit',\r\n        icon: DoorOpen,\r\n        width: 60,\r\n        height: 40,\r\n        color: '#ef4444',\r\n        description: \"Safety exit point\"\r\n    },\r\n    {\r\n        type: 'STAIRS',\r\n        label: 'Stairs',\r\n        icon: AlignJustify,\r\n        width: 60,\r\n        height: 100,\r\n        color: '#71717a',\r\n        description: \"Access stairway\"\r\n    },\r\n    {\r\n        type: 'PILLAR',\r\n        label: 'Pillar (Obstructed)',\r\n        icon: CircleDot,\r\n        width: 40,\r\n        height: 40,\r\n        color: '#27272a',\r\n        description: \"Structural column\"\r\n    },\r\n    {\r\n        type: 'CONSOLE',\r\n        label: 'Sound/Light Console',\r\n        icon: Mic2,\r\n        width: 100,\r\n        height: 60,\r\n        color: '#8b5cf6',\r\n        description: \"Tech control area\"\r\n    },\r\n    {\r\n        type: 'VIP_BOOTH',\r\n        label: 'VIP Booth',\r\n        icon: Armchair,\r\n        width: 120,\r\n        height: 80,\r\n        color: '#f59e0b',\r\n        description: \"Private seating area\"\r\n    },\r\n    {\r\n        type: 'SCREEN',\r\n        label: 'Display Screen',\r\n        icon: Tv,\r\n        width: 150,\r\n        height: 20,\r\n        color: '#06b6d4',\r\n        description: \"LED Wall / Projection\"\r\n    },\r\n    {\r\n        type: 'TABLE',\r\n        label: 'VIP Table',\r\n        icon: Utensils,\r\n        width: 120,\r\n        height: 120,\r\n        color: '#78350f', // Wood brown\r\n        description: \"Professional table with dynamic seating\",\r\n        defaultCapacity: 6,\r\n        maxCapacity: 20\r\n    }\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAeO,MAAM,gBAAgB;IACzB;QACI,MAAM;QACN,OAAO;QACP,MAAM,+OAAc;QACpB,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,sNAAO;QACb,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,wOAAa;QACnB,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,6NAAQ;QACd,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,iPAAY;QAClB,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,gOAAS;QACf,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,qNAAI;QACV,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,yNAAQ;QACd,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,uMAAE;QACR,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;IACjB;IACA;QACI,MAAM;QACN,OAAO;QACP,MAAM,yNAAQ;QACd,OAAO;QACP,QAAQ;QACR,OAAO;QACP,aAAa;QACb,iBAAiB;QACjB,aAAa;IACjB;CACH"}},
    {"offset": {"line": 2344, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/components/seat-engine/AssetLibrary.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { LayoutGrid } from \"lucide-react\";\r\nimport { ASSET_LIBRARY } from \"@/constants/seat-engine-assets\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n/**\r\n * Royal Seat Engine - Asset Library\r\n * Phase 13: Architectural Asset Library\r\n * \r\n * Sidebar component that allows dragging architectural assets onto the canvas.\r\n */\r\nexport default function AssetLibrary() {\r\n    const handleDragStart = (e, asset) => {\r\n        // We set JSON data to be retrieved on drop\r\n        e.dataTransfer.setData(\"asset\", JSON.stringify(asset));\r\n        e.dataTransfer.effectAllowed = \"copy\";\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-zinc-900/90 flex flex-col h-full border-l border-zinc-800/50\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-zinc-800/50 bg-zinc-900/40\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"p-1.5 rounded-md bg-amber-500/10 text-amber-500\">\r\n                        <LayoutGrid className=\"w-4 h-4\" />\r\n                    </div>\r\n                    <div>\r\n                        <span className=\"text-sm font-semibold text-zinc-100 tracking-tight block\">Asset Library</span>\r\n                        <span className=\"text-[10px] text-zinc-500\">Drag items to canvas</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Grid */}\r\n            <div className=\"flex-1 overflow-y-auto p-4\">\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                    {ASSET_LIBRARY.map((asset) => {\r\n                        const Icon = asset.icon;\r\n                        return (\r\n                            <div\r\n                                key={asset.type}\r\n                                draggable=\"true\"\r\n                                onDragStart={(e) => handleDragStart(e, asset)}\r\n                                className=\"group relative flex flex-col items-center justify-center p-4 bg-zinc-800/30 border border-zinc-800/50 rounded-xl hover:bg-zinc-800/60 hover:border-amber-500/30 hover:shadow-lg transition-all cursor-grab active:cursor-grabbing\"\r\n                            >\r\n                                {/* Icon Preview */}\r\n                                <div\r\n                                    className=\"w-10 h-10 mb-3 rounded-lg flex items-center justify-center transition-transform group-hover:scale-110\"\r\n                                    style={{ backgroundColor: `${asset.color}20`, color: asset.color }}\r\n                                >\r\n                                    <Icon className=\"w-6 h-6\" strokeWidth={1.5} />\r\n                                </div>\r\n\r\n                                {/* Label */}\r\n                                <span className=\"text-xs font-medium text-zinc-300 text-center leading-tight\">\r\n                                    {asset.label}\r\n                                </span>\r\n\r\n                                {/* Hover Description Tooltip (Optional visual enhancement) */}\r\n                                <div className=\"hidden\">\r\n                                    {asset.description}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Footer Info */}\r\n            <div className=\"p-4 bg-zinc-900/50 border-t border-zinc-800/50\">\r\n                <div className=\"text-[10px] text-zinc-500 text-center\">\r\n                    Assets are visual props and do not contain seats.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAae,SAAS;IACpB,MAAM,kBAAkB,CAAC,GAAG;QACxB,2CAA2C;QAC3C,EAAE,YAAY,CAAC,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;QAC/C,EAAE,YAAY,CAAC,aAAa,GAAG;IACnC;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,mOAAU;gCAAC,WAAU;;;;;;;;;;;sCAE1B,6LAAC;;8CACG,6LAAC;oCAAK,WAAU;8CAA2D;;;;;;8CAC3E,6LAAC;oCAAK,WAAU;8CAA4B;;;;;;;;;;;;;;;;;;;;;;;0BAMxD,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACV,yJAAa,CAAC,GAAG,CAAC,CAAC;wBAChB,MAAM,OAAO,MAAM,IAAI;wBACvB,qBACI,6LAAC;4BAEG,WAAU;4BACV,aAAa,CAAC,IAAM,gBAAgB,GAAG;4BACvC,WAAU;;8CAGV,6LAAC;oCACG,WAAU;oCACV,OAAO;wCAAE,iBAAiB,GAAG,MAAM,KAAK,CAAC,EAAE,CAAC;wCAAE,OAAO,MAAM,KAAK;oCAAC;8CAEjE,cAAA,6LAAC;wCAAK,WAAU;wCAAU,aAAa;;;;;;;;;;;8CAI3C,6LAAC;oCAAK,WAAU;8CACX,MAAM,KAAK;;;;;;8CAIhB,6LAAC;oCAAI,WAAU;8CACV,MAAM,WAAW;;;;;;;2BApBjB,MAAM,IAAI;;;;;oBAwB3B;;;;;;;;;;;0BAKR,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BAAwC;;;;;;;;;;;;;;;;;AAMvE;KAjEwB"}},
    {"offset": {"line": 2517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/components/seat-engine/HeaderActions.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { Save, Loader2, Download } from \"lucide-react\";\r\nimport useSeatEngine from \"@/hooks/use-seat-engine\";\r\nimport { toast } from \"sonner\";\r\nimport { useMutation } from \"convex/react\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { useSearchParams } from \"next/navigation\";\r\n\r\nimport useAuthStore from \"@/hooks/use-auth-store\";\r\n\r\nexport default function HeaderActions() {\r\n    const { elements, stageConfig, categories } = useSeatEngine();\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    // Auth Token\r\n    const { token } = useAuthStore();\r\n\r\n    // Convex Mutation\r\n    const saveVenueLayout = useMutation(api.events.saveVenueLayout);\r\n\r\n    // Get Event ID from URL or Hardcoded Test ID\r\n    const searchParams = useSearchParams();\r\n    // Use the ID from the previous output if possible or a fallback\r\n    // Based on truncated output, I don't have a reliable ID. I will ask user to supply it via URL.\r\n    // Or I'll use a placeholder that clearly indicates \"TEST\".\r\n    // Wait, I can try to use a hardcoded valid looking ID from the seed script logic known IDs? \r\n    // No, IDs are generated. I'll stick to URL param as primary, and a placeholder as fallback.\r\n    const TEST_EVENT_ID = \"Please-Use-Query-Param\";\r\n    const eventId = searchParams.get(\"eventId\") || TEST_EVENT_ID;\r\n\r\n    const handleBack = () => {\r\n        if (window.history.length > 2) {\r\n            window.history.back();\r\n        } else if (eventId && eventId !== TEST_EVENT_ID) {\r\n            window.location.href = `/my-events/${eventId}`; // Force reload to refresh data\r\n        } else {\r\n            window.location.href = '/my-events';\r\n        }\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!eventId || eventId === TEST_EVENT_ID) {\r\n            toast.error(\"Missing Event ID\", {\r\n                description: \"Add ?eventId=... to the URL to save.\"\r\n            });\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        try {\r\n            // Calculate Total Seats with Smart Logic (Phase 16)\r\n            const totalSeats = elements.reduce((acc, el) => {\r\n                // 1. Explicit Capacity (e.g. Tables, Specific Standing Zones)\r\n                if (typeof el.capacity === 'number') return acc + el.capacity;\r\n                if (el.seatConfig?.capacity) return acc + el.seatConfig.capacity; // Handle nested seatConfig capacity\r\n\r\n                // 2. Grid Zones (Rows * Cols)\r\n                if (el.seatConfig?.rowCount && el.seatConfig?.colCount) {\r\n                    return acc + (el.seatConfig.rowCount * el.seatConfig.colCount);\r\n                }\r\n\r\n                // 3. Fallback (Single item = 1 seat)\r\n                // We exclude non-seating structural assets if needed, but for now assumption is 0 if generic?\r\n                // Actually user said \"Fallback: 1\". But we should probably ignore generic walls/stages if they don't have seats.\r\n                // Let's check type.\r\n                if (['RECTANGLE', 'CIRCLE', 'POLYGON', 'ELLIPSE'].includes(el.type)) {\r\n                    // If it's a Zone but has no rows/cols, maybe it's just a shape? \r\n                    // If shape has no seatConfig or 0 rows, treat as 0 capacity unless specified?\r\n                    // Valid \"Seat\" area = 1 fallback?\r\n                    // Let's stick to user request: Fallback = 1.\r\n                    return acc + 1;\r\n                }\r\n\r\n                // Tables usually have seatConfig or capacity.\r\n                // If it's an ASSET with type TABLE:\r\n                if (el.type === 'ASSET' && (el.assetType === 'TABLE' || el.assetConfig?.type === 'TABLE')) {\r\n                    return acc + (el.seatConfig?.capacity || el.assetConfig?.defaultCapacity || 4);\r\n                }\r\n\r\n                return acc;\r\n            }, 0);\r\n\r\n            // Construct Layout Object (UPDATED: Include categories)\r\n            const layoutData = {\r\n                stageConfig: stageConfig,\r\n                shapes: elements,\r\n                categories: categories || [] // Fix: Persist global categories\r\n            };\r\n\r\n            console.log(\"Saving Layout for Event:\", eventId);\r\n\r\n            await saveVenueLayout({\r\n                eventId: eventId,\r\n                layout: layoutData,\r\n                totalSeats: totalSeats,\r\n                token: token\r\n            });\r\n\r\n            toast.success(\"Layout saved successfully!\", {\r\n                description: `Saved ${elements.length} elements with ${totalSeats} total seats.`\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Save failed:\", error);\r\n            toast.error(\"Failed to save layout\", {\r\n                description: error.message\r\n            });\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-2\">\r\n            <button\r\n                onClick={handleBack}\r\n                className=\"px-3 py-2 text-zinc-400 hover:text-white hover:bg-zinc-800 rounded-lg transition-colors text-sm font-medium\"\r\n            >\r\n                Back to Dashboard\r\n            </button>\r\n            <div className=\"w-px h-6 bg-zinc-800 mx-1\"></div>\r\n            <button\r\n                onClick={handleSave}\r\n                disabled={isSaving}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-[#D4AF37] hover:bg-[#b5952f] text-black font-bold text-sm rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-amber-500/20\"\r\n            >\r\n                {isSaving ? (\r\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                ) : (\r\n                    <Save className=\"w-4 h-4\" />\r\n                )}\r\n                {isSaving ? \"Saving...\" : \"Save Layout\"}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2704, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/app/%28organizer%29/seat-builder/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Crown, Undo2, Redo2, Trash2, Loader2, Settings2, Tag, LayoutGrid } from \"lucide-react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport Toolbox from \"@/components/seat-engine/Toolbox\";\r\nimport PropertiesPanel from \"@/components/seat-engine/PropertiesPanel\";\r\nimport CategoryManager from \"@/components/seat-engine/CategoryManager\";\r\nimport AssetLibrary from \"@/components/seat-engine/AssetLibrary\";\r\nimport HeaderActions from \"@/components/seat-engine/HeaderActions\";\r\nimport useSeatEngine from \"@/hooks/use-seat-engine\";\r\nimport { useQuery } from \"convex/react\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n// ... (CanvasStage dynamic import remains same)\r\nconst CanvasStage = dynamic(\r\n    () => import(\"@/components/seat-engine/CanvasStage\"),\r\n    { ssr: false }\r\n);\r\n\r\nexport default function SeatBuilderPage() {\r\n    const { elements, clearElements, selectedId, setElements, setStagePosition, resetStage } = useSeatEngine();\r\n    const [activeTab, setActiveTab] = useState(\"properties\"); // properties | categories\r\n\r\n    // Convex Integration\r\n    const searchParams = useSearchParams();\r\n    const eventId = searchParams.get(\"eventId\");\r\n\r\n    // Fetch Event Data if ID exists\r\n    const event = useQuery(api.events.getById, eventId ? { id: eventId } : \"skip\");\r\n\r\n    // Reset state on mount/unmount to prevent ghost data\r\n    useEffect(() => {\r\n        resetStage();\r\n        return () => resetStage();\r\n    }, [resetStage]);\r\n\r\n    // Hydrate Store on Load\r\n    useEffect(() => {\r\n        if (event?.venueLayout) {\r\n            const { shapes: savedElements, stageConfig: savedStage } = event.venueLayout;\r\n            if (savedElements) setElements(savedElements);\r\n            if (savedStage) setStagePosition(savedStage.x, savedStage.y, savedStage.scale);\r\n        }\r\n    }, [event, setElements, setStagePosition]);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 w-screen h-screen overflow-hidden bg-zinc-950 flex flex-col z-[9999]\">\r\n            {/* Header */}\r\n            <header className=\"h-14 flex-shrink-0 flex items-center justify-between px-6 border-b border-zinc-800/50 bg-zinc-900/50 backdrop-blur-sm\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center shadow-lg shadow-amber-500/20\">\r\n                        <Crown className=\"w-4 h-4 text-black\" />\r\n                    </div>\r\n                    <div>\r\n                        <h1 className=\"text-base font-bold text-white tracking-tight\">\r\n                            Royal Seat Engine\r\n                        </h1>\r\n                        <p className=\"text-[10px] text-zinc-500 -mt-0.5\">\r\n                            Phase 12: The Category Engine\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex items-center gap-2\">\r\n                    <div className=\"px-3 py-1.5 rounded-lg bg-zinc-800/50 border border-zinc-700/50 text-xs text-zinc-400\">\r\n                        {elements.length} elements\r\n                    </div>\r\n                    <HeaderActions />\r\n                </div>\r\n            </header>\r\n\r\n            {/* Main Content */}\r\n            <div className=\"flex-1 flex relative overflow-hidden\">\r\n                {/* Left Sidebar - Toolbox */}\r\n                <aside className=\"absolute left-4 top-4 z-50\">\r\n                    <Toolbox />\r\n                </aside>\r\n\r\n                {/* Canvas */}\r\n                <main className=\"flex-1 relative\">\r\n                    {eventId && event === undefined ? (\r\n                        <div className=\"absolute inset-0 flex items-center justify-center bg-zinc-950 z-50\">\r\n                            <Loader2 className=\"w-8 h-8 text-amber-500 animate-spin\" />\r\n                        </div>\r\n                    ) : (\r\n                        <CanvasStage />\r\n                    )}\r\n                </main>\r\n\r\n                {/* Right Sidebar - Tabbed Panel */}\r\n                <div className=\"flex relative\">\r\n                    {/* Tab Switcher (Thin vertical bar) */}\r\n                    <div className=\"w-12 bg-zinc-950 border-l border-zinc-800/50 flex flex-col items-center py-4 gap-4 z-10\">\r\n                        <button\r\n                            onClick={() => setActiveTab(\"properties\")}\r\n                            className={cn(\r\n                                \"p-2 rounded-lg transition-all\",\r\n                                activeTab === \"properties\" ? \"bg-amber-500 text-black\" : \"text-zinc-500 hover:text-zinc-300\"\r\n                            )}\r\n                            title=\"Properties\"\r\n                        >\r\n                            <Settings2 className=\"w-5 h-5\" />\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab(\"categories\")}\r\n                            className={cn(\r\n                                \"p-2 rounded-lg transition-all\",\r\n                                activeTab === \"categories\" ? \"bg-amber-500 text-black\" : \"text-zinc-500 hover:text-zinc-300\"\r\n                            )}\r\n                            title=\"Pricing Categories\"\r\n                        >\r\n                            <Tag className=\"w-5 h-5\" />\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab(\"assets\")}\r\n                            className={cn(\r\n                                \"p-2 rounded-lg transition-all\",\r\n                                activeTab === \"assets\" ? \"bg-amber-500 text-black\" : \"text-zinc-500 hover:text-zinc-300\"\r\n                            )}\r\n                            title=\"Asset Library\"\r\n                        >\r\n                            <LayoutGrid className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Active Panel Content */}\r\n                    <div className=\"w-64\">\r\n                        {activeTab === \"properties\" ? <PropertiesPanel /> :\r\n                            activeTab === \"categories\" ? <CategoryManager /> :\r\n                                <AssetLibrary />}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Helper for class merging if not already available in parent\r\nfunction cn(...inputs) {\r\n    return inputs.filter(Boolean).join(\" \");\r\n}\r\n"],"names":[],"mappings":"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"}}]
}