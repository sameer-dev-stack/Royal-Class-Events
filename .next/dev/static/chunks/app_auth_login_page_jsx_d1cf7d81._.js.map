{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Meskat/Documents/Royal-Class-Events-main/app/auth/login/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useMutation } from \"convex/react\";\r\nimport { api } from \"@/convex/_generated/api\";\r\nimport { toast } from \"sonner\";\r\nimport Link from \"next/link\";\r\nimport { Crown, Mail, Lock, ArrowRight, Loader2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport useAuthStore from \"@/hooks/use-auth-store\";\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const loginMutation = useMutation(api.users.login);\r\n    const { login } = useAuthStore();\r\n\r\n    const {\r\n        register,\r\n        handleSubmit,\r\n        formState: { errors, isSubmitting },\r\n    } = useForm();\r\n\r\n    const onSubmit = async (data) => {\r\n        try {\r\n            const result = await loginMutation({\r\n                email: data.email,\r\n                password: data.password,\r\n            });\r\n\r\n            // Store user data and token in Zustand\r\n            login(\r\n                {\r\n                    _id: result.userId,\r\n                    name: result.name,\r\n                    email: result.email,\r\n                    role: result.role,\r\n                },\r\n                result.token\r\n            );\r\n\r\n            toast.success(\"Welcome back!\");\r\n            router.push(\"/\");\r\n        } catch (error) {\r\n            toast.error(error.message || \"Invalid credentials\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-[80vh] px-6\">\r\n            <div className=\"w-full max-w-[450px] space-y-8\">\r\n                {/* Logo & Header */}\r\n                <div className=\"text-center space-y-2\">\r\n                    <Link href=\"/\" className=\"inline-flex items-center gap-2 mb-4 group\">\r\n                        <div className=\"bg-amber-500/10 p-2 rounded-full border border-amber-500/20 group-hover:bg-amber-500/20 transition-colors\">\r\n                            <Crown className=\"w-6 h-6 text-amber-500\" />\r\n                        </div>\r\n                    </Link>\r\n                    <h1 className=\"text-4xl font-black tracking-tight\">Sign In</h1>\r\n                    <p className=\"text-muted-foreground font-light\">Access your exclusive event dashboard</p>\r\n                </div>\r\n\r\n                {/* Login Form */}\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6 bg-card/40 backdrop-blur-md p-8 rounded-[2rem] border border-white/5 shadow-2xl\">\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"email\">Email Address</Label>\r\n                            <div className=\"relative\">\r\n                                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                                <Input\r\n                                    id=\"email\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"name@example.com\"\r\n                                    className=\"pl-12 h-12 bg-white/5 border-white/10 rounded-xl\"\r\n                                    {...register(\"email\", { required: \"Email is required\" })}\r\n                                />\r\n                            </div>\r\n                            {errors.email && <p className=\"text-xs text-red-500\">{errors.email.message}</p>}\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <Label htmlFor=\"password\">Password</Label>\r\n                                <Link href=\"#\" className=\"text-xs text-amber-500 hover:underline\">Forgot password?</Link>\r\n                            </div>\r\n                            <div className=\"relative\">\r\n                                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                                <Input\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"••••••••\"\r\n                                    className=\"pl-12 h-12 bg-white/5 border-white/10 rounded-xl\"\r\n                                    {...register(\"password\", { required: \"Password is required\" })}\r\n                                />\r\n                            </div>\r\n                            {errors.password && <p className=\"text-xs text-red-500\">{errors.password.message}</p>}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        disabled={isSubmitting}\r\n                        className=\"w-full h-12 bg-amber-500 hover:bg-amber-600 text-black font-bold text-lg rounded-xl transition-all shadow-lg shadow-amber-900/20\"\r\n                    >\r\n                        {isSubmitting ? (\r\n                            <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n                        ) : (\r\n                            \"Sign In\"\r\n                        )}\r\n                    </Button>\r\n                </form>\r\n\r\n                <div className=\"text-center text-sm text-muted-foreground\">\r\n                    Don't have an account?{\" \"}\r\n                    <Link href=\"/auth/select-role\" className=\"text-amber-500 font-bold hover:underline\">Create one</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}